{"ast":null,"code":"var _jsxFileName = \"/Users/sebastiangwozdz/Desktop/papertrader/src/CompaniesComponents/SearchResults.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { get } from \"../Helpers\";\nimport { Card } from \"antd\";\nexport default function SearchResults(props) {\n  const [stocks, setStocks] = useState([]);\n  const [profiles, setProfiles] = useState([]);\n  useEffect(() => {\n    get(\"https://finnhub.io/api/v1/stock/symbol?exchange=US&token=bpleiinrh5r8m26im1dg\").then(res => {\n      let r = [];\n\n      for (let stock of res) {\n        let symbol = stock[\"displaySymbol\"];\n\n        if (symbol.includes(props.searchText)) {\n          stocks.push(symbol);\n          r.push(get(\"https://finnhub.io/api/v1/stock/profile2?symbol=\" + symbol + \"&token=bpleiinrh5r8m26im1dg\"));\n        }\n      }\n\n      Promise.all(r).then(vals => {\n        setProfiles(vals);\n      });\n    });\n  }, []);\n\n  function results() {\n    if (!profiles) {\n      return [];\n    }\n\n    let res = [];\n    profiles.forEach((value, index) => {\n      console.log(Promise.resolve(value));\n      res.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        title: \"Default size card\",\n        extra: /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 20\n          }\n        }, \"More\"),\n        style: {\n          width: 300\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }, \"Card content\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, \"Card content\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, \"Card content\")), /*#__PURE__*/React.createElement(Avatar, {\n        shape: \"square\",\n        size: 64,\n        icon: /*#__PURE__*/React.createElement(\"img\", {\n          src: value[\"logo\"],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 19\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => {\n          props.setSelectedStock(stocks[index]);\n        },\n        style: {\n          fontSize: 25\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, stocks[index] + \" - \" + value[\"name\"])));\n    });\n    return res;\n  }\n\n  console.log(profiles);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 10\n    }\n  }, results());\n}","map":{"version":3,"sources":["/Users/sebastiangwozdz/Desktop/papertrader/src/CompaniesComponents/SearchResults.js"],"names":["React","useState","useEffect","get","Card","SearchResults","props","stocks","setStocks","profiles","setProfiles","then","res","r","stock","symbol","includes","searchText","push","Promise","all","vals","results","forEach","value","index","console","log","resolve","width","setSelectedStock","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { get } from \"../Helpers\";\nimport { Card } from \"antd\";\n\nexport default function SearchResults(props) {\n  const [stocks, setStocks] = useState([]);\n  const [profiles, setProfiles] = useState([]);\n\n  useEffect(() => {\n    get(\n      \"https://finnhub.io/api/v1/stock/symbol?exchange=US&token=bpleiinrh5r8m26im1dg\"\n    ).then((res) => {\n      let r = [];\n      for (let stock of res) {\n        let symbol = stock[\"displaySymbol\"];\n\n        if (symbol.includes(props.searchText)) {\n          stocks.push(symbol);\n          r.push(\n            get(\n              \"https://finnhub.io/api/v1/stock/profile2?symbol=\" +\n                symbol +\n                \"&token=bpleiinrh5r8m26im1dg\"\n            )\n          );\n        }\n      }\n\n      Promise.all(r).then((vals) => {\n        setProfiles(vals);\n      });\n    });\n  }, []);\n\n  function results() {\n    if (!profiles) {\n      return [];\n    }\n    let res = [];\n    profiles.forEach((value, index) => {\n      console.log(Promise.resolve(value));\n      res.push(\n        <div key={index}>\n          <Card\n            title=\"Default size card\"\n            extra={<a href=\"#\">More</a>}\n            style={{ width: 300 }}\n          >\n            <p>Card content</p>\n            <p>Card content</p>\n            <p>Card content</p>\n          </Card>\n          <Avatar\n            shape=\"square\"\n            size={64}\n            icon={<img src={value[\"logo\"]}></img>}\n          />\n          <a\n            onClick={() => {\n              props.setSelectedStock(stocks[index]);\n            }}\n            style={{ fontSize: 25 }}\n          >\n            {stocks[index] + \" - \" + value[\"name\"]}\n          </a>\n        </div>\n      );\n    });\n\n    return res;\n  }\n\n  console.log(profiles);\n\n  return <div>{results()}</div>;\n}\n"]},"metadata":{},"sourceType":"module"}