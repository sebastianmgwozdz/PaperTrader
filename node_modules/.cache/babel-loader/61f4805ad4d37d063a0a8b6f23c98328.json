{"ast":null,"code":"var _jsxFileName = \"/Users/sebastiangwozdz/Desktop/papertrader/src/PositionsComponents/DayCard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Graph from \"./Graph\";\nimport { Spin } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport Loading from \"./Loading\";\nexport default function DayCard(props) {\n  const [data, setData] = useState(undefined);\n  useEffect(() => {\n    setData(props.data);\n  }, [props.data]);\n\n  function firstDataPoint() {\n    let keys = Object.keys(data);\n\n    for (let i = 0; i < keys.length - 1; i++) {\n      let date = keys[i].substring(0, 10);\n      let next = keys[i + 1].substring(0, 10);\n\n      if (date !== next || keys[i].substring(11, keys[i].length) === \"09:30:00\") {\n        return i;\n      }\n    }\n\n    return keys.length - 1;\n  }\n\n  function prevClose() {\n    let keys = Object.keys(data);\n\n    if (keys.length <= 1) {\n      return 0;\n    }\n\n    for (let i = 1; i < keys.length; i++) {\n      let k = keys[i];\n      let date = k.substring(0, 10);\n      let prev = keys[i - 1].substring(0, 10);\n\n      if (date !== prev) {\n        return Object.values(data[k])[3];\n      }\n    }\n\n    return props.reference;\n  }\n\n  function formattedData() {\n    if (Object.keys(data).length === 0) {\n      return [];\n    }\n\n    let vals = Object.values(data);\n    let form = vals.map((v, index) => {\n      return {\n        val: Object.values(v)[0],\n        x: index\n      };\n    }).slice(0, firstDataPoint() + 1).reverse();\n    return [...form, {\n      val: Object.values(vals[0])[3]\n    }];\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: props.height + 30,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      textAlign: \"center\",\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, data ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Graph, {\n    data: formattedData(),\n    reference: prevClose(),\n    width: props.width,\n    height: props.height,\n    ticker: props.ticker,\n    hide: props.hide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }), props.name ? props.name : null) : /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sebastiangwozdz/Desktop/papertrader/src/PositionsComponents/DayCard.js"],"names":["React","useState","useEffect","Graph","Spin","LoadingOutlined","Loading","DayCard","props","data","setData","undefined","firstDataPoint","keys","Object","i","length","date","substring","next","prevClose","k","prev","values","reference","formattedData","vals","form","map","v","index","val","x","slice","reverse","width","height","justifyContent","alignItems","textAlign","display","ticker","hide","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Graph from \"./Graph\";\nimport { Spin } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport Loading from \"./Loading\";\n\nexport default function DayCard(props) {\n  const [data, setData] = useState(undefined);\n\n  useEffect(() => {\n    setData(props.data);\n  }, [props.data]);\n\n  function firstDataPoint() {\n    let keys = Object.keys(data);\n    for (let i = 0; i < keys.length - 1; i++) {\n      let date = keys[i].substring(0, 10);\n      let next = keys[i + 1].substring(0, 10);\n      if (\n        date !== next ||\n        keys[i].substring(11, keys[i].length) === \"09:30:00\"\n      ) {\n        return i;\n      }\n    }\n\n    return keys.length - 1;\n  }\n\n  function prevClose() {\n    let keys = Object.keys(data);\n\n    if (keys.length <= 1) {\n      return 0;\n    }\n\n    for (let i = 1; i < keys.length; i++) {\n      let k = keys[i];\n      let date = k.substring(0, 10);\n      let prev = keys[i - 1].substring(0, 10);\n      if (date !== prev) {\n        return Object.values(data[k])[3];\n      }\n    }\n\n    return props.reference;\n  }\n\n  function formattedData() {\n    if (Object.keys(data).length === 0) {\n      return [];\n    }\n    let vals = Object.values(data);\n    let form = vals\n      .map((v, index) => {\n        return { val: Object.values(v)[0], x: index };\n      })\n      .slice(0, firstDataPoint() + 1)\n      .reverse();\n\n    return [...form, { val: Object.values(vals[0])[3] }];\n  }\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: props.height + 30,\n\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"center\",\n        display: \"flex\",\n      }}\n    >\n      {data ? (\n        <div>\n          <Graph\n            data={formattedData()}\n            reference={prevClose()}\n            width={props.width}\n            height={props.height}\n            ticker={props.ticker}\n            hide={props.hide}\n          ></Graph>\n          {props.name ? props.name : null}\n        </div>\n      ) : (\n        <Loading></Loading>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}