{"ast":null,"code":"var _jsxFileName = \"/Users/sebastiangwozdz/Desktop/papertrader/src/PositionsComponents/AboutCompany.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { List } from \"antd\";\nimport { get } from \"../Helpers\";\nconst liStyle = {\n  width: \"15vw\",\n  display: \"inline-block\",\n  textAlign: \"left\"\n};\nexport default function AboutCompany(props) {\n  const [values, setValues] = useState({\n    quote: undefined,\n    mktCap: undefined,\n    pe: undefined,\n    lowHigh: undefined\n  });\n\n  async function lowHigh() {\n    let data = [];\n    await get(\"https://finnhub.io/api/v1/stock/metric?symbol=\" + props.ticker + \"&metric=price&token=bpleiinrh5r8m26im1dg\").then(res => {\n      data.push(\"52 Week High: \" + res[\"metric\"][\"52WeekHigh\"].toFixed(2));\n      data.push(\"52 Week Low: \" + res[\"metric\"][\"52WeekLow\"].toFixed(2));\n    });\n    return data;\n  }\n\n  async function quote() {\n    let data = [];\n    await get(\"https://finnhub.io/api/v1/quote?symbol=\" + props.ticker + \"&token=bpleiinrh5r8m26im1dg\").then(res => {\n      data.push(\"Open: \" + res[\"o\"].toFixed(2));\n      data.push(\"High: \" + res[\"h\"].toFixed(2));\n      data.push(\"Low: \" + res[\"l\"].toFixed(2));\n      data.push(\"Previous Close: \" + res[\"pc\"].toFixed(2));\n    });\n    return data;\n  }\n\n  async function mktCap() {\n    let m;\n    await get(\"https://finnhub.io/api/v1/stock/profile2?symbol=\" + props.ticker + \"&token=bpleiinrh5r8m26im1dg\").then(res => {\n      if (res[\"marketCapitalization\"]) {\n        m = \"Market Cap: \" + formattedMktCap(res[\"marketCapitalization\"]);\n      }\n    });\n    return m;\n  }\n\n  function formattedMktCap(val) {\n    let num = Number(val);\n\n    if (num >= 1000000) {\n      return (num / 1000000).toFixed(2) + \"T\";\n    } else if (num >= 1000) {\n      return (num / 1000).toFixed(2) + \"B\";\n    } else {\n      return num.toFixed(2) + \"M\";\n    }\n  }\n\n  async function pe() {\n    let p;\n    let currDate = new Date().toISOString().substring(0, 10);\n    let lastDate = Number(currDate.substring(0, 4)) - 1 + currDate.substring(4, 10);\n    let newDate = Number(currDate.substring(0, 4)) + 1 + currDate.substring(4, 10);\n    console.log(currDate + \" \" + lastDate);\n    await get(\"https://finnhub.io/api/v1/calendar/earnings?from=\" + lastDate + \"&to=\" + newDate + \"&symbol=\" + props.ticker + \"&token=bpleiinrh5r8m26im1dg\").then(res => {\n      let eps = 0;\n      console.log(res);\n\n      if (res[\"earningsCalendar\"]) {\n        for (let i = 0; i < 4; i++) {\n          if (res[\"earningsCalendar\"][i][\"epsActual\"]) {\n            eps += res[\"earningsCalendar\"][i][\"epsActual\"];\n          }\n        }\n\n        p = props.price[\"c\"] / eps;\n      }\n    });\n    return \"P/E Ratio: \" + p.toFixed(2);\n  }\n\n  useEffect(() => {\n    let vals = [quote(), mktCap(), pe(), lowHigh()];\n    Promise.all(vals).then(res => {\n      setValues({\n        quote: res[0],\n        mktCap: res[1],\n        pe: res[2],\n        lowHigh: res[3]\n      });\n    });\n  }, []);\n\n  function data() {\n    let arr = [];\n\n    for (let i of Object.values(values)) {\n      if (Array.isArray(i)) {\n        for (let el of i) {\n          arr.push(listItem(el));\n        }\n      } else {\n        arr.push(listItem(i));\n      }\n    }\n\n    return arr;\n  }\n\n  function listItem(str) {\n    if (!str) {\n      return \"\";\n    }\n\n    let colon = str.indexOf(\":\");\n    let label = str.substring(0, colon + 1);\n    let value = str.substring(colon + 2, str.length);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: liStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, label), value);\n  }\n\n  let d = data();\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    size: \"large\",\n    bordered: true,\n    dataSource: d.slice(0, 4),\n    renderItem: item => /*#__PURE__*/React.createElement(List.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 31\n      }\n    }, item),\n    style: {\n      width: \"45vh\",\n      marginBottom: \"10vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    size: \"large\",\n    bordered: true,\n    dataSource: d.slice(4, 8),\n    renderItem: item => /*#__PURE__*/React.createElement(List.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 31\n      }\n    }, item),\n    style: {\n      width: \"45vh\",\n      marginBottom: \"10vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sebastiangwozdz/Desktop/papertrader/src/PositionsComponents/AboutCompany.js"],"names":["React","useEffect","useState","List","get","liStyle","width","display","textAlign","AboutCompany","props","values","setValues","quote","undefined","mktCap","pe","lowHigh","data","ticker","then","res","push","toFixed","m","formattedMktCap","val","num","Number","p","currDate","Date","toISOString","substring","lastDate","newDate","console","log","eps","i","price","vals","Promise","all","arr","Object","Array","isArray","el","listItem","str","colon","indexOf","label","value","length","d","justifyContent","slice","item","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { List } from \"antd\";\nimport { get } from \"../Helpers\";\n\nconst liStyle = {\n  width: \"15vw\",\n  display: \"inline-block\",\n  textAlign: \"left\",\n};\n\nexport default function AboutCompany(props) {\n  const [values, setValues] = useState({\n    quote: undefined,\n    mktCap: undefined,\n    pe: undefined,\n    lowHigh: undefined,\n  });\n\n  async function lowHigh() {\n    let data = [];\n    await get(\n      \"https://finnhub.io/api/v1/stock/metric?symbol=\" +\n        props.ticker +\n        \"&metric=price&token=bpleiinrh5r8m26im1dg\"\n    ).then((res) => {\n      data.push(\"52 Week High: \" + res[\"metric\"][\"52WeekHigh\"].toFixed(2));\n      data.push(\"52 Week Low: \" + res[\"metric\"][\"52WeekLow\"].toFixed(2));\n    });\n    return data;\n  }\n\n  async function quote() {\n    let data = [];\n    await get(\n      \"https://finnhub.io/api/v1/quote?symbol=\" +\n        props.ticker +\n        \"&token=bpleiinrh5r8m26im1dg\"\n    ).then((res) => {\n      data.push(\"Open: \" + res[\"o\"].toFixed(2));\n      data.push(\"High: \" + res[\"h\"].toFixed(2));\n      data.push(\"Low: \" + res[\"l\"].toFixed(2));\n      data.push(\"Previous Close: \" + res[\"pc\"].toFixed(2));\n    });\n\n    return data;\n  }\n\n  async function mktCap() {\n    let m;\n    await get(\n      \"https://finnhub.io/api/v1/stock/profile2?symbol=\" +\n        props.ticker +\n        \"&token=bpleiinrh5r8m26im1dg\"\n    ).then((res) => {\n      if (res[\"marketCapitalization\"]) {\n        m = \"Market Cap: \" + formattedMktCap(res[\"marketCapitalization\"]);\n      }\n    });\n\n    return m;\n  }\n\n  function formattedMktCap(val) {\n    let num = Number(val);\n\n    if (num >= 1000000) {\n      return (num / 1000000).toFixed(2) + \"T\";\n    } else if (num >= 1000) {\n      return (num / 1000).toFixed(2) + \"B\";\n    } else {\n      return num.toFixed(2) + \"M\";\n    }\n  }\n\n  async function pe() {\n    let p;\n\n    let currDate = new Date().toISOString().substring(0, 10);\n\n    let lastDate =\n      Number(currDate.substring(0, 4)) - 1 + currDate.substring(4, 10);\n    let newDate =\n      Number(currDate.substring(0, 4)) + 1 + currDate.substring(4, 10);\n\n    console.log(currDate + \" \" + lastDate);\n\n    await get(\n      \"https://finnhub.io/api/v1/calendar/earnings?from=\" +\n        lastDate +\n        \"&to=\" +\n        newDate +\n        \"&symbol=\" +\n        props.ticker +\n        \"&token=bpleiinrh5r8m26im1dg\"\n    ).then((res) => {\n      let eps = 0;\n\n      console.log(res);\n\n      if (res[\"earningsCalendar\"]) {\n        for (let i = 0; i < 4; i++) {\n          if (res[\"earningsCalendar\"][i][\"epsActual\"]) {\n            eps += res[\"earningsCalendar\"][i][\"epsActual\"];\n          }\n        }\n        p = props.price[\"c\"] / eps;\n      }\n    });\n\n    return \"P/E Ratio: \" + p.toFixed(2);\n  }\n\n  useEffect(() => {\n    let vals = [quote(), mktCap(), pe(), lowHigh()];\n    Promise.all(vals).then((res) => {\n      setValues({\n        quote: res[0],\n        mktCap: res[1],\n        pe: res[2],\n        lowHigh: res[3],\n      });\n    });\n  }, []);\n\n  function data() {\n    let arr = [];\n\n    for (let i of Object.values(values)) {\n      if (Array.isArray(i)) {\n        for (let el of i) {\n          arr.push(listItem(el));\n        }\n      } else {\n        arr.push(listItem(i));\n      }\n    }\n    return arr;\n  }\n\n  function listItem(str) {\n    if (!str) {\n      return \"\";\n    }\n\n    let colon = str.indexOf(\":\");\n\n    let label = str.substring(0, colon + 1);\n    let value = str.substring(colon + 2, str.length);\n\n    return (\n      <div>\n        <span style={liStyle}>{label}</span>\n        {value}\n      </div>\n    );\n  }\n\n  let d = data();\n\n  return (\n    <span style={{ display: \"flex\", justifyContent: \"center\" }}>\n      <List\n        size=\"large\"\n        bordered\n        dataSource={d.slice(0, 4)}\n        renderItem={(item) => <List.Item>{item}</List.Item>}\n        style={{ width: \"45vh\", marginBottom: \"10vh\" }}\n      />\n      <List\n        size=\"large\"\n        bordered\n        dataSource={d.slice(4, 8)}\n        renderItem={(item) => <List.Item>{item}</List.Item>}\n        style={{ width: \"45vh\", marginBottom: \"10vh\" }}\n      />\n    </span>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}