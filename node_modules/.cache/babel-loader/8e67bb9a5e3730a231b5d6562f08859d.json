{"ast":null,"code":"var _jsxFileName = \"/Users/sebastiangwozdz/Desktop/papertrader/src/CompaniesComponents/SearchResults.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { get } from \"../Helpers\";\nimport { Card, Avatar } from \"antd\";\nimport PriceCounter from \"./PriceCounter\";\nconst priceStyle = {\n  textAlign: \"center\",\n  fontSize: \"30px\"\n};\nexport default function SearchResults(props) {\n  const [stocks] = useState([]);\n  const [profiles, setProfiles] = useState([]);\n  useEffect(() => {\n    get(\"https://finnhub.io/api/v1/stock/symbol?exchange=US&token=bpleiinrh5r8m26im1dg\").then(res => {\n      let r = [];\n\n      for (let stock of res) {\n        let symbol = stock[\"displaySymbol\"];\n\n        if (symbol.indexOf(props.searchText) === 0) {\n          stocks.push(symbol);\n        }\n      }\n\n      for (let i = 0; i < Math.min(5, stocks.length); i++) {\n        r.push(get(\"https://finnhub.io/api/v1/stock/profile2?symbol=\" + stocks[i] + \"&token=bpleiinrh5r8m26im1dg\"));\n      }\n\n      Promise.all(r).then(vals => {\n        setProfiles(vals);\n      });\n    });\n  }, []);\n\n  function nextCards() {\n    let copy = profiles;\n\n    for (let i = profiles.length; i < Math.min(stocks.length, profiles.length + 5); i++) {\n      copy.push(et(\"https://finnhub.io/api/v1/stock/profile2?symbol=\" + stocks[i] + \"&token=bpleiinrh5r8m26im1dg\"));\n    }\n  }\n\n  function results() {\n    if (!profiles) {\n      return [];\n    }\n\n    let res = [];\n    profiles.forEach((value, index) => {\n      res.push( /*#__PURE__*/React.createElement(\"a\", {\n        key: index,\n        onClick: () => {\n          props.setSelectedStock(stocks[index]);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        title: stocks[index] + \" - \" + value[\"name\"],\n        extra: /*#__PURE__*/React.createElement(Avatar, {\n          shape: \"square\",\n          size: 64,\n          icon: /*#__PURE__*/React.createElement(\"img\", {\n            src: value[\"logo\"],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 23\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }\n        }),\n        style: {\n          width: 300\n        },\n        hoverable: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(PriceCounter, {\n        ticker: stocks[index],\n        style: priceStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }))));\n    });\n    return res;\n  }\n\n  console.log(profiles);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, results(), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"more\"));\n}","map":{"version":3,"sources":["/Users/sebastiangwozdz/Desktop/papertrader/src/CompaniesComponents/SearchResults.js"],"names":["React","useState","useEffect","get","Card","Avatar","PriceCounter","priceStyle","textAlign","fontSize","SearchResults","props","stocks","profiles","setProfiles","then","res","r","stock","symbol","indexOf","searchText","push","i","Math","min","length","Promise","all","vals","nextCards","copy","et","results","forEach","value","index","setSelectedStock","width","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,GAAT,QAAoB,YAApB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,MAA7B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,MAAMC,UAAU,GAAG;AAAEC,EAAAA,SAAS,EAAE,QAAb;AAAuBC,EAAAA,QAAQ,EAAE;AAAjC,CAAnB;AAEA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC3C,QAAM,CAACC,MAAD,IAAWX,QAAQ,CAAC,EAAD,CAAzB;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,GAAG,CACD,+EADC,CAAH,CAEEY,IAFF,CAEQC,GAAD,IAAS;AACd,UAAIC,CAAC,GAAG,EAAR;;AACA,WAAK,IAAIC,KAAT,IAAkBF,GAAlB,EAAuB;AACrB,YAAIG,MAAM,GAAGD,KAAK,CAAC,eAAD,CAAlB;;AAEA,YAAIC,MAAM,CAACC,OAAP,CAAeT,KAAK,CAACU,UAArB,MAAqC,CAAzC,EAA4C;AAC1CT,UAAAA,MAAM,CAACU,IAAP,CAAYH,MAAZ;AACD;AACF;;AAED,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYb,MAAM,CAACc,MAAnB,CAApB,EAAgDH,CAAC,EAAjD,EAAqD;AACnDN,QAAAA,CAAC,CAACK,IAAF,CACEnB,GAAG,CACD,qDACES,MAAM,CAACW,CAAD,CADR,GAEE,6BAHD,CADL;AAOD;;AAEDI,MAAAA,OAAO,CAACC,GAAR,CAAYX,CAAZ,EAAeF,IAAf,CAAqBc,IAAD,IAAU;AAC5Bf,QAAAA,WAAW,CAACe,IAAD,CAAX;AACD,OAFD;AAGD,KAzBD;AA0BD,GA3BQ,EA2BN,EA3BM,CAAT;;AA6BA,WAASC,SAAT,GAAqB;AACnB,QAAIC,IAAI,GAAGlB,QAAX;;AACA,SACE,IAAIU,CAAC,GAAGV,QAAQ,CAACa,MADnB,EAEEH,CAAC,GAAGC,IAAI,CAACC,GAAL,CAASb,MAAM,CAACc,MAAhB,EAAwBb,QAAQ,CAACa,MAAT,GAAkB,CAA1C,CAFN,EAGEH,CAAC,EAHH,EAIE;AACAQ,MAAAA,IAAI,CAACT,IAAL,CACEU,EAAE,CACA,qDACEpB,MAAM,CAACW,CAAD,CADR,GAEE,6BAHF,CADJ;AAOD;AACF;;AAED,WAASU,OAAT,GAAmB;AACjB,QAAI,CAACpB,QAAL,EAAe;AACb,aAAO,EAAP;AACD;;AACD,QAAIG,GAAG,GAAG,EAAV;AACAH,IAAAA,QAAQ,CAACqB,OAAT,CAAiB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACjCpB,MAAAA,GAAG,CAACM,IAAJ,eACE;AACE,QAAA,GAAG,EAAEc,KADP;AAEE,QAAA,OAAO,EAAE,MAAM;AACbzB,UAAAA,KAAK,CAAC0B,gBAAN,CAAuBzB,MAAM,CAACwB,KAAD,CAA7B;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAME,oBAAC,IAAD;AACE,QAAA,KAAK,EAAExB,MAAM,CAACwB,KAAD,CAAN,GAAgB,KAAhB,GAAwBD,KAAK,CAAC,MAAD,CADtC;AAEE,QAAA,KAAK,eACH,oBAAC,MAAD;AACE,UAAA,KAAK,EAAC,QADR;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,IAAI,eAAE;AAAK,YAAA,GAAG,EAAEA,KAAK,CAAC,MAAD,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ;AASE,QAAA,KAAK,EAAE;AAAEG,UAAAA,KAAK,EAAE;AAAT,SATT;AAUE,QAAA,SAAS,MAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAYE,oBAAC,YAAD;AACE,QAAA,MAAM,EAAE1B,MAAM,CAACwB,KAAD,CADhB;AAEE,QAAA,KAAK,EAAE7B,UAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,CANF,CADF;AA0BD,KA3BD;AA6BA,WAAOS,GAAP;AACD;;AAEDuB,EAAAA,OAAO,CAACC,GAAR,CAAY3B,QAAZ;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGoB,OAAO,EADV,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CADF;AAMD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { get } from \"../Helpers\";\nimport { Card, Avatar } from \"antd\";\nimport PriceCounter from \"./PriceCounter\";\n\nconst priceStyle = { textAlign: \"center\", fontSize: \"30px\" };\n\nexport default function SearchResults(props) {\n  const [stocks] = useState([]);\n  const [profiles, setProfiles] = useState([]);\n\n  useEffect(() => {\n    get(\n      \"https://finnhub.io/api/v1/stock/symbol?exchange=US&token=bpleiinrh5r8m26im1dg\"\n    ).then((res) => {\n      let r = [];\n      for (let stock of res) {\n        let symbol = stock[\"displaySymbol\"];\n\n        if (symbol.indexOf(props.searchText) === 0) {\n          stocks.push(symbol);\n        }\n      }\n\n      for (let i = 0; i < Math.min(5, stocks.length); i++) {\n        r.push(\n          get(\n            \"https://finnhub.io/api/v1/stock/profile2?symbol=\" +\n              stocks[i] +\n              \"&token=bpleiinrh5r8m26im1dg\"\n          )\n        );\n      }\n\n      Promise.all(r).then((vals) => {\n        setProfiles(vals);\n      });\n    });\n  }, []);\n\n  function nextCards() {\n    let copy = profiles;\n    for (\n      let i = profiles.length;\n      i < Math.min(stocks.length, profiles.length + 5);\n      i++\n    ) {\n      copy.push(\n        et(\n          \"https://finnhub.io/api/v1/stock/profile2?symbol=\" +\n            stocks[i] +\n            \"&token=bpleiinrh5r8m26im1dg\"\n        )\n      );\n    }\n  }\n\n  function results() {\n    if (!profiles) {\n      return [];\n    }\n    let res = [];\n    profiles.forEach((value, index) => {\n      res.push(\n        <a\n          key={index}\n          onClick={() => {\n            props.setSelectedStock(stocks[index]);\n          }}\n        >\n          <Card\n            title={stocks[index] + \" - \" + value[\"name\"]}\n            extra={\n              <Avatar\n                shape=\"square\"\n                size={64}\n                icon={<img src={value[\"logo\"]}></img>}\n              />\n            }\n            style={{ width: 300 }}\n            hoverable\n          >\n            <PriceCounter\n              ticker={stocks[index]}\n              style={priceStyle}\n            ></PriceCounter>\n          </Card>\n        </a>\n      );\n    });\n\n    return res;\n  }\n\n  console.log(profiles);\n\n  return (\n    <div>\n      {results()}\n      <div>more</div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}